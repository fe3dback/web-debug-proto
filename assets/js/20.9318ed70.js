(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{389:function(e,t,s){"use strict";s.r(t);var a=s(43),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"terms"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#terms"}},[e._v("#")]),e._v(" Terms")]),e._v(" "),s("h4",{attrs:{id:"uuid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#uuid"}},[e._v("#")]),e._v(" UUID")]),e._v(" "),s("p",[e._v("Universe unique id")]),e._v(" "),s("p",[e._v("You can read more about UUID here:\n"),s("a",{attrs:{href:"https://tools.ietf.org/html/rfc4122",target:"_blank",rel:"noopener noreferrer"}},[e._v("rfc4122 UUID"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("Recommended to use 4 version of UUID (random)")]),e._v(" "),s("p",[e._v("Example:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ef95a542-25a3-4f71-a0e9-640c92f43813\n")])])]),s("h4",{attrs:{id:"json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#json"}},[e._v("#")]),e._v(" JSON")]),e._v(" "),s("p",[e._v("You can read more about JSON here:\n"),s("a",{attrs:{href:"https://tools.ietf.org/html/rfc7159",target:"_blank",rel:"noopener noreferrer"}},[e._v("rfc7151 JSON"),s("OutboundLink")],1)]),e._v(" "),s("h4",{attrs:{id:"server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#server"}},[e._v("#")]),e._v(" Server")]),e._v(" "),s("p",[e._v("Your application service working over HTTP")]),e._v(" "),s("h4",{attrs:{id:"profile-client"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#profile-client"}},[e._v("#")]),e._v(" Profile Client")]),e._v(" "),s("p",[e._v("Some testing / profiling application, for example:")]),e._v(" "),s("ul",[s("li",[e._v("API testing apps, like "),s("em",[e._v("postman")])]),e._v(" "),s("li",[e._v("browser tools, like "),s("em",[e._v("chromium devtools")])]),e._v(" "),s("li",[e._v("console utils, like "),s("em",[e._v("curl")])]),e._v(" "),s("li",[e._v("etc..")])]),e._v(" "),s("h4",{attrs:{id:"request"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request"}},[e._v("#")]),e._v(" Request")]),e._v(" "),s("p",[e._v("HTTP Request to your "),s("code",[e._v("Server")])]),e._v(" "),s("h4",{attrs:{id:"response"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response"}},[e._v("#")]),e._v(" Response")]),e._v(" "),s("p",[e._v("HTTP Response for "),s("code",[e._v("Request")])]),e._v(" "),s("h2",{attrs:{id:"supported-transports"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#supported-transports"}},[e._v("#")]),e._v(" Supported transports")]),e._v(" "),s("h3",{attrs:{id:"headers-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#headers-api"}},[e._v("#")]),e._v(" Headers+api")]),e._v(" "),s("p",[e._v("Server return only debug UUID and api endpoint.\nClient make request to api endpoint and load all debug data.")]),e._v(" "),s("p",[s("RouterLink",{attrs:{to:"/docs/specification/transport/headers-request.html"}},[e._v("read specification")])],1),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("pros")]),e._v(" "),s("ul",[s("li",[e._v("universal transport, working everywhere")]),e._v(" "),s("li",[e._v("not increase response time and body size")]),e._v(" "),s("li",[e._v("nested requests can be easy handled in backend")])])]),e._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[e._v("cons")]),e._v(" "),s("ul",[s("li",[e._v("persistent storage on server")]),e._v(" "),s("li",[e._v("O(n) round trips, where n = count of nested requests + 1")]),e._v(" "),s("li",[e._v("need to maintain special api (used for fetch debug data by UUID)")]),e._v(" "),s("li",[e._v("nested micro-services cant by debugged if server behind firewall or not accessible from internet and local network")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("\n                           .-,(  ),-.                            Client\n                        .-(          )-.                          __  _\n                       (    network     )<#######################[__]|=|\n                        '-(          ).-'                        /::/|_|\n                            '-.( ).-'                               #\n                                #                                   #\n  Headers + API transport       v                                   #\n -------------------------   ______                                 #\n Only this server           [.....°]  Main app server               #\n can by debugged            [.....°]   https://example.com/         #\n without saas               [|||||°]                                v\n                        .---[|||||°]----.              .----------------------.\n                       /    [_____°]     \\             | not accessible       |\n                      /     [_____°]      \\            | by direct connection |\n                     /      [_____°]       \\           '----------------------'\n                    /                       \\                      .\n                   '                         '                     .\n                ______                    ______                   .\n               [.....°] microservice A   [.....°] microservice B   .\n               [.....°]  localhost:1337  [.....°]  127.0.0.1:8080  .\n               [|||||°]                  [|||||°]                  .\n               [|||||°]                  [|||||°] <................'\n               [_____°]                  [_____°]\n               [_____°]                  [_____°]\n               [_____°]                  [_____°]\n\n")])])])]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("IAAS")]),e._v(" "),s("ul",[s("li",[e._v("external IAAS can fix all cons for you")]),e._v(" "),s("li",[e._v("currently no IAAS available yet")])])]),e._v(" "),s("h3",{attrs:{id:"json-response-injected"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#json-response-injected"}},[e._v("#")]),e._v(" json response (injected)")]),e._v(" "),s("p",[e._v("All debug data injected to normal application json response (in special\njson key)")]),e._v(" "),s("p",[s("RouterLink",{attrs:{to:"/docs/specification/transport/json-response.html"}},[e._v("read specification")])],1),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("pros")]),e._v(" "),s("ul",[s("li",[e._v("server does not store anything")]),e._v(" "),s("li",[e._v("no additional round trips (all debug data already in response)")])])]),e._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[e._v("cons")]),e._v(" "),s("ul",[s("li",[e._v("working only with json responses")]),e._v(" "),s("li",[e._v("custom backend logic with json output")]),e._v(" "),s("li",[e._v("increase body size and request time")]),e._v(" "),s("li",[e._v("application client should ignore custom fields in response")]),e._v(" "),s("li",[e._v("http server should be properly configured (cache, ttl, etc..)")]),e._v(" "),s("li",[e._v("server should implement client logic for handling nested requests")])])]),e._v(" "),s("h2",{attrs:{id:"implementations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#implementations"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),s("h4",{attrs:{id:"server-side"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#server-side"}},[e._v("#")]),e._v(" Server side")]),e._v(" "),s("p",[e._v("Server application CAN implement one or more transports at\nsame time.")]),e._v(" "),s("h4",{attrs:{id:"client-side"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#client-side"}},[e._v("#")]),e._v(" Client side")]),e._v(" "),s("p",[e._v("Client SHOULD load debug data from transports by priority:")]),e._v(" "),s("ul",[s("li",[e._v("Headers+api\n"),s("ul",[s("li",[e._v("if Response Headers contain "),s("code",[e._v("X-Http-Debug-Id")])])])]),e._v(" "),s("li",[e._v("json response\n"),s("ul",[s("li",[e._v("if Content-Type is application/json")]),e._v(" "),s("li",[e._v("if json body contains key "),s("code",[e._v('"_x_http_debug": "{..}"')])])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);